<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>MaficFlix</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script
      src="https://kit.fontawesome.com/868382dc86.js"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://fonts.googleapis.com/css?family=Lato:300,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./build/style/index.css" />
    <link rel="stylesheet" href="./style/index.css" />
  </head>
  <body>
    <div class="mobile-wrap">
      <div class="nav-wrap">
        <a href="#" class="active"><img src="./assets/logo.png" alt="MagicFlix" /></a>
        <nav id="navLinks">
          <ul>

            <div class="p-mega-menu-trigger" onclick="mMenu()">
            <li><a href="#">Magic videos<i class="fas fa-angle-down"></i>
              <div class="p-mega-menu-content" id="vMenu">
                <ul>
                  <li class="item">Videos Magic Item</li>
                  <li class="item">Videos Magic Item</li>
                  <li class="item">Videos Magic Item</li>
                  <li class="item">Videos Magic Item</li>
                  <li class="item">Videos Magic Item</li>
                </ul>
              </div>
            </a></li>
            </div>
            
            <li><a href="#">Magicians</a></li>
            <li><a href="#">My Account</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Customer support</a></li>
          </ul>
        </nav>
        <a href="#" class="icon_bar" onclick="barFunction()">
        <i class="fas fa-bars"></i>
        </a>
      </div>
    </div>
    <header class="header_back_color">
      <div class="logo">
        <img src="./assets/logo.png" alt="MagicFlix" />
      </div>
      <nav class="nav">
        <ul class="menu">
          <li class="menu__item">


            <div class="p-mega-menu-trigger" onclick="nMenu()">
            <a
              class="menu__link link_color_active text_color_white text_size_l"
              href="#"
              ><i class="fas fa-angle-down"></i>Magic videos
              <div class="p-mega-menu-content" id="videosMenu">
                <ul>
                  <li class="item">Videos Magic Item</li>
                  <li class="item">Videos Magic Item</li>
                  <li class="item">Videos Magic Item</li>
                  <li class="item">Videos Magic Item</li>
                  <li class="item">Videos Magic Item</li>
                </ul>
              </div>
              </a>
            </div>


          </li>
          <li class="menu__item">
            <a
              class="menu__link link_color_active text_color_white text_size_l"
              href="#"
              >Magicians</a
            >
          </li>
          <li class="menu__item">
            <a
              class="menu__link link_color_active text_color_white text_size_l"
              href="#"
              >My Account</a
            >
          </li>
          <li class="menu__item">
            <a
              class="menu__link link_color_active text_color_white text_size_l"
              href="#"
              >About</a
            >
          </li>
          <li class="menu__item">
            <a
              class="menu__link link_color_active text_color_white text_size_l"
              href="#"
              >Customer support</a
            >
          </li>
        </ul>
      </nav>
      <div class="search">
        <input
          class="search_input text_size_m"
          type="text"
          placeholder="What are you searching for"
        />
        <i class="search__input_icon fas fa-search"></i>
      </div>
      <div class="user">
        <b class="text_color_white text_size_xl header_user_name">User User</b>
        <div class="icon icon_size icon_img_default icon_color_grey">
          <i class="fas fa-user-alt"></i>
        </div>
      </div>
    </header>
    <div class="content_block">
      <div>
      <iframe
        class="video__player"
        src=""
        frameborder="0"></iframe>
       <div class="video_name_block">
        <h2 class="video_name text_size_xxl">MagicFlix Original: Snapshot<h2>
        <i class="fas fa-graduation-cap text_color_blue">  <span class="text_size_xl-light">intermidate</span></i>
        <span class="text_size_like likes"><i class="fas fa-thumbs-up">  100</i><i class="fas fa-thumbs-down">  100</i></span>
      </div>
      <div class="views_and_star text_size_xl-light">
        <span>2 000 000 views</span>
        <div class="position_rating">
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="far fa-star"></i>
        <i class="far fa-star"></i>
        <i class="far fa-star"></i>
        <span class="count_likes">(100)</span>
      </div>
      </div>
      <hr class="line_bottom_video"> 
        <table class="video_content_name">
          <tr class="table_row">
              <td class="cell_icon" rowspan="2"><div class="reviews_icon_user">
              <i class="fas fa-user-alt"></i>
            </div></td>
              <td class="cell_name text_size_xl">Patrics Magic chanel</td>
              <td class="cell_empty"></td>
              <td class="cell_time text_size_xl">Uploaded: <span class="text_color_grey text_weight-light">16.12.2019</span></td>
          </tr>
          <tr>
            <td class="cell_about_channel text_color_grey font_family-lato text_size_m">Lorem ipsum dolor sit amet consectetur adipisicing elit. Esse molestiae repellat, architecto neque reiciendis mollitia velit sit vitae ex error?
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Deserunt esse quaerat recusandae dicta veniam, quis possimus pariatur officia aperiam dolore. Lorem ipsum dolor sit amet.
            </td>
          </tr>
        </table>
        <hr class="line_bottom_video line_visuall-hidden"> 
   </div>
      <div class="reviews_block">
        <h2 class="text_size_xxl block_name">Reviews</h2>

        <div class="container_review">
          <div class="reviews_icon_user">
            <i class="fas fa-user-alt"></i>
          </div>
          <div class="review_content">
            <p class="review_name"><span class="text_size_xl">Antonio Banderas</span><b><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></b></p>
            <p class="review_content-text text_size_m text_color_light_grey">Good Video</p>
          </div>
          <hr />
        </div>

        <div class="container_review">
          <div class="reviews_icon_user">
            <i class="fas fa-user-alt"></i>
          </div>
          <div class="review_content">
            <p class="review_name"><span class="text_size_xl">Quentin Tarantino</span><b><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></b></p>
            <p class="review_content-text text_size_m text_color_light_grey">Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis, quibusdam placeat error eveniet ut dolorem nobis.</p>
          </div>
          <hr />
        </div>

        <div class="container_review">
          <div class="reviews_icon_user">
            <i class="fas fa-user-alt"></i>
          </div>
          <div class="review_content">
            <p class="review_name"><span class="text_size_xl">Harry Gudini</span><b><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></b></p>
            <p class="review_content-text text_size_m text_color_light_grey">Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis, quibusdam placeat error eveniet ut dolorem nobis.</p>
          </div>
          <hr />
        </div>
          
        <div class="container_review">
          <div class="reviews_icon_user">
            <i class="fas fa-user-alt"></i>
          </div>
          <div class="review_content">
            <p class="review_name"><span class="text_size_xl">Harry Gudini</span><b><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></b></p>
            <p class="review_content-text text_size_m text_color_light_grey">Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis, quibusdam placeat error eveniet ut dolorem nobis.</p>
          </div>
          <hr />
        </div>
        <input class="review_input text_leave-review" text="text" placeholder="Leave your review" id="reviews"/>
        <div class="aling_button_and_star text_size_xl">
        <div class="far fa-star star_item active" data-rate="1"></div>
        <div class="far fa-star star_item" data-rate="2" ></div>
        <div class="far fa-star star_item" data-rate="3" ></div>
        <div class="far fa-star star_item" data-rate="4" ></div>
        <div class="far fa-star star_item" data-rate="5" ></div>
        <input class="button text_size_xl"type="button" value="Send" id="send"/>
        </div>
        </div>
      </div>
    </div>
 
    <table class="related_video">
      <th><h2 class="name_related_block text_size_xxl" >Related videos</h2></th>
      <tr>
      <td><div class="related_video_block"></div></td>
      <td><div class="related_video_block video-hidden"></div></td>
      <td><div class="related_video_block video-hidden"></div></td>
      <td><div class="related_video_block video-hidden"></div></td>
    </tr>
    <tr class="row_video_name">
      <td><span class="name_related_video text_size_xl video-hidden">One magic video</span></td>
      <td><span class="name_related_video text_size_xl video-hidden">Second magic video</span></td>
      <td><span class="name_related_video text_size_xl video-hidden">Third magic video</span></td>
      <td><span class="name_related_video text_size_xl video-hidden">Fourth magic video</span></td>
    </tr>
    <tr class="second_row">
      <td><div class="related_video_block video-hidden"></div></td>
      <td><div class="related_video_block video-hidden"></div></td>
      <td><div class="related_video_block video-hidden"></div></td>
      <td><div class="related_video_block video-hidden"></div></td>
    </tr>
    </table>
  <script>
    barFunction = () => {
      let x = document.getElementById("navLinks");
      if(x.style.display === "block") {
        x.style.display = "none";
      } else {
        x.style.display = "block";
      }
    }

    nMenu = () => {
      let y = document.getElementById('videosMenu');
      if(y.style.display === "block") {
        y.style.display = "none";
      } else {
        y.style.display = "block";
      }
    }
    mMenu = () => {
      let y = document.getElementById('vMenu');
      if(y.style.display === "block") {
        y.style.display = "none";
      } else {
        y.style.display = "block";
      }
    }

    let rating = document.querySelector('.aling_button_and_star'),
        ratingItem = document.querySelectorAll('.star_item');

    rating.onclick = function(e){
      let target = e.target;
      if(target.classList.contains('star-item')){
        removeClass(ratingItem, 'current-active')
        target.classList.add('color_blue', 'current-color_blue');
      }
    }

    rating.onmouseover = function(e){
      let target = e.target;
      if(target.classList.contains('star_item')){
        removeClass(ratingItem, 'active')
        target.classList.add('active');
        mouseOverActiveClass(ratingItem);
      }
    }
    // rating.onmouseout = function(){
    //   addClass(ratingItem, 'active');
    //   mouseOutActiveClas(ratingItem);
    // }

    function removeClass(arr) {
      for(let i = 0, iLen = arr.length; i <iLen; i ++) {
        for(let j = 1; j < arguments.length; j ++) {
          ratingItem[i].classList.remove(arguments[j]);
        }
      }
    }
    function addClass(arr) {
      for(let i = 0, iLen = arr.length; i <iLen; i ++) {
        for(let j =1; j < arguments.length; j ++) {
          ratingItem[i].classList.add(arguments[j]);
        }
      }
    } 

    mouseOverActiveClass = function(arr){
      for(let i = 0, iLen = arr.length; i < iLen; i++) {
        if(arr[i].classList.contains('active')){
          break;
        } else {
          arr[i].classList.add('active');
        }
      }
    }

    mouseOutActiveClas = function(arr){
      for(let i = arr.length-1; i >=1; i--) {
        if(arr[i].classList.contains('current-active')){
          break;
        } else {
          arr[i].classList.remove('active');
        }
      }
    }

//// Получаю данные от 1 до 5

    rating.onclick = function(event) {
      let num = event.target.dataset.rate;
      
      console.log(num);
    }

/////
rating.onclick = function(event) {
      let num = event.target.dataset.rate;
      if (num === undefined) {
        num = 1;
      }
    
    send.onclick = function(event) {
      
      let text = document.getElementById('reviews').value;
      let list = document.getElementById('reviews');
      let item = document.createElement('div');
      let user_name = 'User User'
      item.classList.add('container_review');
      if (text !== "") {
        if (num == 1) {
          num = '<b><i class="fas fa-star"></i><i class="fas fa-star color_grey"></i><i class="fas fa-star color_grey"></i><i class="fas fa-star color_grey"></i><i class="fas fa-star color_grey"></i></b>'
        } if (num == 2) {
          num = '<b><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star color_grey"></i><i class="fas fa-star color_grey"></i><i class="fas fa-star color_grey"></i></b>'
        } if (num == 3) {
          num = '<b><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star color_grey"></i><i class="fas fa-star color_grey"></i></b>'
        } if (num == 4) {
          num = '<b><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star color_grey"></i></b>'
        } if (num == 5) {
          num = '<b><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></b>'
        }
      item.innerHTML = '<div class="reviews_icon_user"><i class="fas fa-user-alt"></i></div><div class="review_content"><p class="review_name"><span class="text_size_xl">'
        +user_name+'</span>'+num+'</p><p class="review_content-text text_size_m text_color_light_grey">'
          +text+'</p></div><hr />'

      list.before(item);

      document.getElementById('reviews').value = "";

        } else {
        return null;
      } 
    }
  }
  </script>
  </body>
</html>
